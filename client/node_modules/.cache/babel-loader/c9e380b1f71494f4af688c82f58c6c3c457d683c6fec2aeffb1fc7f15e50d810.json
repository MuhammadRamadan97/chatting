{"ast":null,"code":"import axios from'axios';const API_URL=process.env.REACT_APP_API_URL;const api=axios.create({baseURL:API_URL});// Add token to requests\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;});// Error handling\napi.interceptors.response.use(response=>response,error=>{var _error$response;console.error('API Error:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);return Promise.reject(error);});export const authAPI={register:(username,email,password)=>api.post('/api/auth/register',{username,email,password}),login:(email,password)=>api.post('/api/auth/login',{email,password}),getUsers:()=>api.get('/api/auth/users')};export const messageAPI={getMessages:userId=>api.get(\"/api/messages/\".concat(userId)),// ✅ Fixed: plural\nsendMessage:(receiver,text)=>api.post('/api/messages',{receiver,text})};export default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","response","error","_error$response","console","data","Promise","reject","authAPI","register","username","email","password","post","login","getUsers","get","messageAPI","getMessages","userId","sendMessage","receiver","text"],"sources":["F:/Web-Development/chat-app/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL\r\n});\r\n\r\n// Add token to requests\r\napi.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\n// Error handling\r\napi.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n        console.error('API Error:', error.response?.data);\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport const authAPI = {\r\n    register: (username, email, password) =>\r\n        api.post('/api/auth/register', { username, email, password }),\r\n    login: (email, password) =>\r\n        api.post('/api/auth/login', { email, password }),\r\n    getUsers: () => api.get('/api/auth/users')\r\n};\r\n\r\nexport const messageAPI = {\r\n    getMessages: (userId) => api.get(`/api/messages/${userId}`),  // ✅ Fixed: plural\r\n    sendMessage: (receiver, text) =>\r\n        api.post('/api/messages', { receiver, text })\r\n};\r\n\r\nexport default api;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE7C,KAAM,CAAAC,GAAG,CAAGL,KAAK,CAACM,MAAM,CAAC,CACrBC,OAAO,CAAEN,OACb,CAAC,CAAC,CAEF;AACAI,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,EAAK,CACrC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACPD,MAAM,CAACI,OAAO,CAACC,aAAa,WAAAC,MAAA,CAAaL,KAAK,CAAE,CACpD,CACA,MAAO,CAAAD,MAAM,CACjB,CAAC,CAAC,CAEF;AACAN,GAAG,CAACG,YAAY,CAACU,QAAQ,CAACR,GAAG,CACxBQ,QAAQ,EAAKA,QAAQ,CACrBC,KAAK,EAAK,KAAAC,eAAA,CACPC,OAAO,CAACF,KAAK,CAAC,YAAY,EAAAC,eAAA,CAAED,KAAK,CAACD,QAAQ,UAAAE,eAAA,iBAAdA,eAAA,CAAgBE,IAAI,CAAC,CACjD,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACL,KAAK,CAAC,CAChC,CACJ,CAAC,CAED,MAAO,MAAM,CAAAM,OAAO,CAAG,CACnBC,QAAQ,CAAEA,CAACC,QAAQ,CAAEC,KAAK,CAAEC,QAAQ,GAChCxB,GAAG,CAACyB,IAAI,CAAC,oBAAoB,CAAE,CAAEH,QAAQ,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAC,CACjEE,KAAK,CAAEA,CAACH,KAAK,CAAEC,QAAQ,GACnBxB,GAAG,CAACyB,IAAI,CAAC,iBAAiB,CAAE,CAAEF,KAAK,CAAEC,QAAS,CAAC,CAAC,CACpDG,QAAQ,CAAEA,CAAA,GAAM3B,GAAG,CAAC4B,GAAG,CAAC,iBAAiB,CAC7C,CAAC,CAED,MAAO,MAAM,CAAAC,UAAU,CAAG,CACtBC,WAAW,CAAGC,MAAM,EAAK/B,GAAG,CAAC4B,GAAG,kBAAAhB,MAAA,CAAkBmB,MAAM,CAAE,CAAC,CAAG;AAC9DC,WAAW,CAAEA,CAACC,QAAQ,CAAEC,IAAI,GACxBlC,GAAG,CAACyB,IAAI,CAAC,eAAe,CAAE,CAAEQ,QAAQ,CAAEC,IAAK,CAAC,CACpD,CAAC,CAED,cAAe,CAAAlC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}