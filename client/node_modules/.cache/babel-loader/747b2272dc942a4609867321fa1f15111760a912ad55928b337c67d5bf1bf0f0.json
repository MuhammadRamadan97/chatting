{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import\"./MessageInput.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MessageInput=_ref=>{let{onSendMessage,onTyping,onStopTyping}=_ref;const[text,setText]=useState(\"\");const typingTimeoutRef=useRef(null);const handleChange=e=>{setText(e.target.value);// Notify typing\nonTyping();// Clear previous timeout\nif(typingTimeoutRef.current)clearTimeout(typingTimeoutRef.current);// Stop typing after 1.5s of inactivity\ntypingTimeoutRef.current=setTimeout(()=>{onStopTyping();},1500);};const handleSend=()=>{if(text.trim()===\"\")return;onSendMessage(text.trim());setText(\"\");// Stop typing immediately after sending\nonStopTyping();if(typingTimeoutRef.current)clearTimeout(typingTimeoutRef.current);};const handleKeyDown=e=>{if(e.key===\"Enter\"&&!e.shiftKey){e.preventDefault();handleSend();}};useEffect(()=>{return()=>{if(typingTimeoutRef.current)clearTimeout(typingTimeoutRef.current);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"message-input\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:text,onChange:handleChange,onKeyDown:handleKeyDown,placeholder:\"Type a message...\",rows:3}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,children:\"Send\"})]});};export default MessageInput;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","MessageInput","_ref","onSendMessage","onTyping","onStopTyping","text","setText","typingTimeoutRef","handleChange","e","target","value","current","clearTimeout","setTimeout","handleSend","trim","handleKeyDown","key","shiftKey","preventDefault","className","children","onChange","onKeyDown","placeholder","rows","onClick"],"sources":["F:/Web-Development/chat-app/client/src/components/MessageInput.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./MessageInput.css\";\r\n\r\nconst MessageInput = ({ onSendMessage, onTyping, onStopTyping }) => {\r\n    const [text, setText] = useState(\"\");\r\n    const typingTimeoutRef = useRef(null);\r\n\r\n    const handleChange = (e) => {\r\n        setText(e.target.value);\r\n\r\n        // Notify typing\r\n        onTyping();\r\n\r\n        // Clear previous timeout\r\n        if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\r\n\r\n        // Stop typing after 1.5s of inactivity\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            onStopTyping();\r\n        }, 1500);\r\n    };\r\n\r\n    const handleSend = () => {\r\n        if (text.trim() === \"\") return;\r\n\r\n        onSendMessage(text.trim());\r\n        setText(\"\");\r\n\r\n        // Stop typing immediately after sending\r\n        onStopTyping();\r\n        if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\r\n    };\r\n\r\n    const handleKeyDown = (e) => {\r\n        if (e.key === \"Enter\" && !e.shiftKey) {\r\n            e.preventDefault();\r\n            handleSend();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef.current);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"message-input\">\r\n            <textarea\r\n                value={text}\r\n                onChange={handleChange}\r\n                onKeyDown={handleKeyDown}\r\n                placeholder=\"Type a message...\"\r\n                rows={3}\r\n            />\r\n            <button onClick={handleSend}>Send</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MessageInput;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAA+C,IAA9C,CAAEC,aAAa,CAAEC,QAAQ,CAAEC,YAAa,CAAC,CAAAH,IAAA,CAC3D,KAAM,CAACI,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAAc,gBAAgB,CAAGZ,MAAM,CAAC,IAAI,CAAC,CAErC,KAAM,CAAAa,YAAY,CAAIC,CAAC,EAAK,CACxBH,OAAO,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAEvB;AACAR,QAAQ,CAAC,CAAC,CAEV;AACA,GAAII,gBAAgB,CAACK,OAAO,CAAEC,YAAY,CAACN,gBAAgB,CAACK,OAAO,CAAC,CAEpE;AACAL,gBAAgB,CAACK,OAAO,CAAGE,UAAU,CAAC,IAAM,CACxCV,YAAY,CAAC,CAAC,CAClB,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAED,KAAM,CAAAW,UAAU,CAAGA,CAAA,GAAM,CACrB,GAAIV,IAAI,CAACW,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,OAExBd,aAAa,CAACG,IAAI,CAACW,IAAI,CAAC,CAAC,CAAC,CAC1BV,OAAO,CAAC,EAAE,CAAC,CAEX;AACAF,YAAY,CAAC,CAAC,CACd,GAAIG,gBAAgB,CAACK,OAAO,CAAEC,YAAY,CAACN,gBAAgB,CAACK,OAAO,CAAC,CACxE,CAAC,CAED,KAAM,CAAAK,aAAa,CAAIR,CAAC,EAAK,CACzB,GAAIA,CAAC,CAACS,GAAG,GAAK,OAAO,EAAI,CAACT,CAAC,CAACU,QAAQ,CAAE,CAClCV,CAAC,CAACW,cAAc,CAAC,CAAC,CAClBL,UAAU,CAAC,CAAC,CAChB,CACJ,CAAC,CAEDrB,SAAS,CAAC,IAAM,CACZ,MAAO,IAAM,CACT,GAAIa,gBAAgB,CAACK,OAAO,CAAEC,YAAY,CAACN,gBAAgB,CAACK,OAAO,CAAC,CACxE,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIb,KAAA,QAAKsB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1BzB,IAAA,aACIc,KAAK,CAAEN,IAAK,CACZkB,QAAQ,CAAEf,YAAa,CACvBgB,SAAS,CAAEP,aAAc,CACzBQ,WAAW,CAAC,mBAAmB,CAC/BC,IAAI,CAAE,CAAE,CACX,CAAC,cACF7B,IAAA,WAAQ8B,OAAO,CAAEZ,UAAW,CAAAO,QAAA,CAAC,MAAI,CAAQ,CAAC,EACzC,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}